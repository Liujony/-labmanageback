<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.sys.mapper.LabMapper">

    <select id="getClassByDay" resultType="java.util.Map" parameterType="java.util.Map">
        select segment, course, username, semester, major, classnum, startweek, endweek from ((select segment from timetable) t1 left join (select labtype, course, username, semester,major, classnum, startweek, endweek, segment as timesection from allclass where roomid = #{roomid} and weekday = #{weekday} and semester = #{semester}) t2 on t1.segment = t2.timesection)
    </select>
</mapper>
